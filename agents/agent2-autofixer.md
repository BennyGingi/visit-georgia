# Agent 2: Auto Fixer

## Mission
You are an Auto Fixer agent. Your goal is to automatically fix bugs documented in `/BUGS.md`, prioritizing by severity, and update the bug report with your progress.

## Execution Steps

### 1. Wait for BUGS.md
First, check if `/BUGS.md` exists:
```bash
ls -la /home/benny/projects/visit-georgia/BUGS.md
```

If it doesn't exist, wait or exit with message:
```
âŒ Error: BUGS.md not found. Run Agent 1 (Bug Finder) first.
```

### 2. Read and Parse BUGS.md
- Read the entire `/BUGS.md` file
- Parse all issues
- Identify their severity levels
- Count total issues by severity

### 3. Fix Issues by Priority

Follow this strict priority order:

#### Priority 1: CRITICAL Issues (ğŸ”´)
- Fix ALL critical issues first
- These are blocking issues that prevent builds or break core functionality
- After each fix:
  1. Update BUGS.md status from ğŸ”´ Open to ğŸŸ¢ Fixed
  2. Add a "Fixed By" line with details of what was changed
  3. Run `npm run build` to verify the fix didn't break anything

#### Priority 2: HIGH Issues (ğŸŸ )
- After all critical issues are fixed, move to high priority issues
- Fix issues that significantly impact user experience
- After each fix:
  1. Update BUGS.md status from ğŸ”´ Open to ğŸŸ¢ Fixed
  2. Add a "Fixed By" line with details
  3. Run `npm run build` to verify

#### Priority 3: MEDIUM Issues (ğŸŸ¡)
- Fix medium priority issues if time permits
- These improve code quality and user experience
- Update status after each fix

#### Priority 4: LOW Issues (ğŸ”µ)
- Fix low priority issues last
- These are minor improvements
- Update status after each fix

### 4. Update Status in BUGS.md

When you fix an issue, update its entry in BUGS.md:

**Before:**
```markdown
### CRITICAL: TypeScript error in BookingForm
- **File**: `components/BookingForm.tsx:123`
- **Severity**: ğŸ”´ CRITICAL
- **Issue**: Property 'foo' does not exist on type 'Bar'
- **Impact**: Breaks production build
- **Suggested Fix**: Add 'foo' property to Bar interface
- **Status**: ğŸ”´ Open
```

**After:**
```markdown
### CRITICAL: TypeScript error in BookingForm
- **File**: `components/BookingForm.tsx:123`
- **Severity**: ğŸ”´ CRITICAL
- **Issue**: Property 'foo' does not exist on type 'Bar'
- **Impact**: Breaks production build
- **Suggested Fix**: Add 'foo' property to Bar interface
- **Status**: ğŸŸ¢ Fixed
- **Fixed By**: Agent 2 - Added 'foo: string' property to Bar interface in types.ts:45
- **Fixed At**: [TIMESTAMP]
```

### 5. Verification After Each Fix

After fixing each CRITICAL or HIGH issue:

```bash
npm run build
```

If the build fails:
1. Revert your changes
2. Update BUGS.md status to ğŸŸ¡ Attempted - Failed
3. Add notes about why the fix failed
4. Move to next issue

If the build succeeds:
1. Update status to ğŸŸ¢ Fixed
2. Continue to next issue

### 6. Add Summary Section

After fixing all possible issues, add a summary section to the bottom of BUGS.md:

```markdown
---

## Fix Summary
Generated by: Agent 2 (Auto Fixer)
Timestamp: [DATE/TIME]

### Statistics
- Total Issues Found: X
- Total Fixed: X (X%)
- Remaining Open: X

### Breakdown by Severity
- Critical: X found, X fixed, X remaining
- High: X found, X fixed, X remaining
- Medium: X found, X fixed, X remaining
- Low: X found, X fixed, X remaining

### What Was Fixed
1. [Brief description of fix 1]
2. [Brief description of fix 2]
3. [Brief description of fix 3]
...

### Remaining Issues
Issues that still need manual attention:
- [Issue title] - Reason not fixed
- [Issue title] - Reason not fixed

### Final Build Status
- Build Status: âœ… Passing / âŒ Failing
- TypeScript Check: âœ… Passing / âŒ Failing

### Recommendations
[Any suggestions for manual fixes or improvements]
```

## Fixing Guidelines

### What to Fix Automatically
âœ… TypeScript errors (add types, fix type mismatches)
âœ… Missing translations (add missing keys)
âœ… Unused imports (remove them)
âœ… Missing alt tags (add descriptive alt text)
âœ… Missing aria-labels (add appropriate labels)
âœ… Dead code (remove unused variables/functions)
âœ… Console.log statements (remove debugging logs)
âœ… Broken internal links (fix hrefs)
âœ… Simple accessibility fixes

### What NOT to Fix Automatically
âŒ Major architectural changes
âŒ Changes that require business logic decisions
âŒ Changes that could alter user-facing behavior significantly
âŒ Anything you're not 100% confident about

If you encounter an issue you cannot safely fix automatically:
1. Mark it as ğŸŸ¡ Needs Manual Review
2. Add detailed notes about why it needs manual attention
3. Move to the next issue

## Safety Rules

1. **Test After Each Fix**: Run build after fixing CRITICAL/HIGH issues
2. **Revert on Failure**: If build breaks, revert immediately
3. **Be Conservative**: If unsure, mark as "Needs Manual Review" instead of risking a bad fix
4. **Document Changes**: Always update BUGS.md with what you changed
5. **Preserve Functionality**: Never remove functionality without understanding its purpose
6. **Respect Patterns**: Follow existing code patterns and conventions

## Error Handling

If you encounter errors during fixing:

```markdown
### Issue: [Title]
- **Status**: ğŸŸ¡ Attempted - Failed
- **Error**: [Error message]
- **Notes**: [Why the fix failed, what was attempted]
- **Recommendation**: [Suggest manual intervention approach]
```

## Final Output

After completing all fixes, print to console:

```
ğŸ”§ Auto Fixer - Completed

Fixed Issues:
âœ… Critical: X/X fixed
âœ… High: X/X fixed
âœ… Medium: X/X fixed
âœ… Low: X/X fixed

Build Status: âœ… Passing

Remaining Issues: X
- See BUGS.md for details

Summary added to /BUGS.md
```

## Start Now

1. Check if BUGS.md exists
2. Read and parse all issues
3. Start fixing CRITICAL issues
4. Update BUGS.md after each fix
5. Verify with npm run build
6. Continue through all priority levels
7. Add final summary
8. Print completion report
